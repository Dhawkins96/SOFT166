<!DOCTYPE html>
<title>Password Strength Checker</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous">
<script
        src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
        crossorigin="anonymous"></script>
<style>
    html, body, h1, h2, h3, h4, h5, h6 {
        font-family: "Roboto", sans-serif;
    }

    #content-wrap {
        padding-bottom: 2.5rem; /* Footer height */
        margin: 2%;
    }

    #footer {
        position: absolute;
        bottom: 0;
        width: 100%;
        height: 2.5rem; /* Footer height */
    }

    #strength {
        position: absolute;
        left: 4%;
    }
</style>
<html lang="en">
<body>
<!-- Nav-bar -->
<div class="w3-top">
    <div class="w3-bar w3-theme w3-top w3-left-align w3-large">
        <a class="w3-bar-item w3-button w3-right w3-hide-large w3-hover-white w3-large w3-theme-l1" href="javascript:void(0)" onclick="w3_open()"><i class="fa fa-bars"></i></a>
        <a class="w3-bar-item w3-button w3-theme-l1" href="ProfWeb.html">Password Strength Checker</a>

    </div>
</div>
<div class="w3-main">
    <!--Password Checker-->
    <div id="page-container">
        <div id="content-wrap">
            <br />

            <h1> Password Strength Checker</h1>
            <label> Enter Password:     </label><input type="password" autocomplete="none" id="password" /><br/>
            <label id="lblMessage"></label>
            <br /><br /><input type="checkbox" onclick="myFunction()">Show Password<br /><br/>
            <progress max="100" value="0" id="strength" style="width: 230px" />
            <br /><br />




            <script type="text/javascript">
                var pass = document.getElementById("password")
                var lbl = document.getElementById("lblStrength")

                pass.addEventListener('keyup', function () {
                    checkPassword(pass.value)
                })
                function checkPassword(password) {
                    var strengthBar = document.getElementById("strength")

                    var strength = -1;


                    if (password.match(/[a-z]+/)) {
                        strength += 1
                        document.getElementById("checkLilAlpha").checked = true;
                    } else {
                        document.getElementById("checkLilAlpha").checked = false;
                    }
                    if (password.match(/[A-Z]+/)) {
                        strength += 1
                        document.getElementById("checkBigAlpha").checked = true;
                    } else {
                        document.getElementById("checkBigAlpha").checked = false;
                    }
                    if (password.match(/[0-9]+/)) {
                        strength += 1
                        document.getElementById("checkNum").checked = true;
                    } else {
                        document.getElementById("checkNum").checked = false;
                    }
                    if (password.match(/[!@Â£$%^&*()<>#~?"]+/)) {
                        strength += 1
                        document.getElementById("checkSpecChar").checked = true;
                    } else {
                        document.getElementById("checkSpecChar").checked = false;
                    }
                    if (password.length > 6) {
                        strength += 1
                        document.getElementById("checkLength").checked = true;
                    } else {
                        document.getElementById("checkLength").checked = false;
                    }
                    if (password.length === 0) {
                        document.getElementById("checkLilAlpha").checked = false;
                        document.getElementById("checkBigAlpha").checked = false;
                        document.getElementById("checkNum").checked = false;
                        document.getElementById("checkSpecChar").checked = false;
                        document.getElementById("checkLength").checked = false;

                        strengthBar.value = 0;
                        pass.style.background = "White";
                        togglelight(switchLightBlue(2, false));
                    }

                    var lbl = "";

                    switch (strength) {
                        case 0:
                            strengthBar.value = 20;
                            pass.style.backgroundColor = "Maroon";
                            lbl = "Very Weak";
                            togglelight(switchLightBlue(2, true));
                            break;
                        case 1:
                            strengthBar.value = 40;
                            pass.style.backgroundColor = "Red";
                            lbl = "Weak";
                            togglelight(switchLightRed(2, true));
                            break;
                        case 2:
                            strengthBar.value = 60;
                            pass.style.backgroundColor = "Orange";
                            lbl = "Good";
                            togglelight(switchLightPink(2, true));
                            break;
                        case 3:
                            strengthBar.value = 80;
                            pass.style.backgroundColor = "#91FB6E";
                            lbl = "Strong";
                            togglelight(switchLightOrange(2, true));
                            break;
                        case 4:
                            strengthBar.value = 100;
                            pass.style.backgroundColor = "#3FFF00";
                            lbl = "Very Strong";
                            togglelight(switchLightGreen(2, true));
                    }

                    document.getElementById("lblMessage").innerHTML = lbl;
                }
                // function to show and hide password
                function myFunction() {
                    var x = document.getElementById("password");
                    if (x.type === "password") {
                        x.type = "text";
                    } else {
                        x.type = "password";
                    }
                }

                function getLightURI(lightID)
                {
                    var IP = "http://192.168.0.50/api/";
                    var username = "stlaB2I6VZ8O80Qepc-1xfmLrHgyTFvB9IGupaQz";
                    var lights = "/lights/";
                    var URI = IP + username + lights;
                    return URI + lightID +"/";
                }
                function togglelight(element)
                {
                    var getState = $.getJSON(getLightURI(element.attr("id")), function (data)
                    {
                        var state = data["state"]["on"];
                        if (state)
                        {
                            state = false;
                        }
                        else
                        {
                            state = true;
                        }

                        switchLightRed(element.attr("id"), state);
                        switchLightOrange(element.attr("id"), state);
                        switchLightGreen(element.attr("id"), state);
                        switchLightPink(element.attr("id"), state);
                        switchLightBlue(element.attr("id"), state);
                    })
                }
                function switchLightRed(lightID, boolValue)
                {
                    var lightState = {"on" : boolValue, "hue" : 65535};

                    $.ajax({
                        url: getLightURI(lightID) + "state/",
                        type: "PUT",
                        data: JSON.stringify(lightState)
                    })
                }
                function switchLightOrange(lightID, boolValue)
                {
                    var lightState = {"on" : boolValue, "hue" : 12750};

                    $.ajax({
                        url: getLightURI(lightID) + "state/",
                        type: "PUT",
                        data: JSON.stringify(lightState)
                    })
                }
                function switchLightBlue(lightID, boolValue)
                {
                    var lightState = {"on" : boolValue, "hue" : 46920};

                    $.ajax({
                        url: getLightURI(lightID) + "state/",
                        type: "PUT",
                        data: JSON.stringify(lightState)
                    })
                }
                function switchLightGreen(lightID, boolValue)
                {
                    var lightState = {"on" : boolValue, "hue" : 25500};

                    $.ajax({
                        url: getLightURI(lightID) + "state/",
                        type: "PUT",
                        data: JSON.stringify(lightState)
                    })
                }
                function switchLightPink(lightID, boolValue)
                {
                    var lightState = {"on" : boolValue, "hue" : 56100};

                    $.ajax({
                        url: getLightURI(lightID) + "state/",
                        type: "PUT",
                        data: JSON.stringify(lightState)
                    })
                }
            </script>

        </div>
        <div id="content-wrap">
            <p>What you should include to make a very strong password!</p>
            <label>a - z   </label> <input id="checkLilAlpha" type="checkbox" onclick="return false;" /><br />
            <label>A - Z   </label><input id="checkBigAlpha" type="checkbox" onclick="return false;" /><br />
            <label>0 - 9   </label><input id="checkNum" type="checkbox" onclick="return false;" /><br />
            <label>Any Special Characters   </label><input id="checkSpecChar" type="checkbox" onclick="return false;" /><br />
            <label>More than 7 Characters   </label><input id="checkLength" type="checkbox" onclick="return false;" /><br />

        </div>

        <!-- Footer -->
        <footer id="footer">
            <div class="w3-container w3-theme-l1">
                <p>Made by Daisy Hawkins</p>
            </div>
        </footer>
    </div>


    <!-- End of Password Checker -->
</div>
</body>
</html>

